<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>Snap!</title>
  <script type="text/javascript" src="main.js"></script>
  <link rel="stylesheet" href="main.css">
  <link rel="icon" type="image/png" href="/snap/images/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<body>
    <div id="myapp"></div>
</body>

<link rel="preload" href="/snap/images/faces/10-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/10-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/10-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/10-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/2-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/2-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/2-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/2-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/3-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/3-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/3-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/3-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/4-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/4-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/4-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/4-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/5-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/5-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/5-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/5-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/6-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/6-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/6-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/6-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/7-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/7-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/7-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/7-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/8-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/8-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/8-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/8-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/9-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/9-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/9-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/9-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/A-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/A-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/A-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/A-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/J-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/J-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/J-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/J-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/K-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/K-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/K-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/K-spades.png" as="image" />
<link rel="preload" href="/snap/images/faces/Q-clubs.png" as="image" />
<link rel="preload" href="/snap/images/faces/Q-diamonds.png" as="image" />
<link rel="preload" href="/snap/images/faces/Q-hearts.png" as="image" />
<link rel="preload" href="/snap/images/faces/Q-spades.png" as="image" />

<script type="text/javascript">

// Start the Elm application.
const app = Elm.Main.init({
    node: document.getElementById('myapp')
});

app.ports.connect.subscribe((uri) => {
  let socket = new WebSocket(uri);
  app.ports.sendMessage.subscribe((msg) => socket.send(msg));
  socket.addEventListener(
    "message",
    (event) => app.ports.messageReceived.send(event.data)
  );
  socket.addEventListener(
    "close",
    (_event) => app.ports.connectionLost.send(null)
  );
  socket.addEventListener(
    "open",
    (_event) => app.ports.connectionStarted.send(null)
  );
});
</script>


</html>
